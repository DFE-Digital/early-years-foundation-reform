<div class="govuk-width-container">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      <p class="govuk-heading-m">Details</p>
      <%= form_with(model: @content_page_version, url: [@content_page_version.content_page, @content_page_version], local: true) do |form| %>
        <fieldset class="govuk-fieldset">
          <div class="govuk-form-group">
            <label class="govuk-label" for="Heading">
              <%= form.label :title, "Heading" %>
            </label>
            <%= form.text_field :title, :class => 'govuk-input govuk-!-width-three-quarters', :disabled => true %>
          </div>

          <div class="govuk-form-group gem-c-govspeak">
            <label id="markdown-hint" for="markdown-editor" class="govuk-hint">
              Content
            </label>
            <%= form.text_area :markdown, :id => 'markdown-editor', :rows => 20, :cols => 35,  :class => "govuk-textarea" %>
          </div>

          <% if action_name === "edit" || action_name === "new" || action_name === "update" %>
            <div class="fixed-footer">
              <%= form.submit class: "govuk-button", value: "Save as draft" %>
              <%= link_to 'Cancel', edit_content_page_content_page_version_path(@content_page_version.content_page, @content_page_version), :data => {:confirm => "Are you sure you want to undo your changes ?", :class => "govuk-link"}%> |
              <%= link_to 'Back', content_pages_path, :data => {:confirm => "Any changes will be lost, are you sure ?", :class => "govuk-link"}%>
            </div>
          <% end %>
        </fieldset>

      <% end %>
    </div>

    <div class="govuk-grid-column-one-half">
        <p class="govuk-heading-m">Preview</p>
        <div id='markdown-render' class='gem-c-govspeak'>
          <%= sanitize(@md, tags: GovspeakToHTML::ALLOWED_TAGS) %>
        </div>
    </div>
  </div>
</div>
